# Kitchen Mic Project Plan ğŸ™ï¸
Last Updated: 2024-12-07T19:53:48-05:00

## Project goals
Create an always-on audio recording system that captures, transcribes, and organizes conversations with high-fidelity audio preservation.

### ğŸ”§ LLM Instructions
- Read this entire plan first
- Load relevant milestone context from .milestone/<milestone_id>.plan
- Track current progress using emoji states
- Update milestone status after each significant change
- Always refer back to this plan for project context
- Verify the completion of each step before proceeding to the next
- At the end of every response write a few word summary of the current goal, so I know if these instructions are still in context or if we need to refresh
- Before implmenting a new step, read the milesone doc stop (even if you have already) and ask for input on the approach for the task you're taking
- after we complete a task update the relevent plan files

### ğŸ“‹ Development Guidelines
- Strive for simplicity over convention
- Use good epistemology, do not make assumptions you cannot verify 
- Avoid midwit cargo culted development patterns without a clear reason
- Write modular code in small files with brief doc comments
- Keep the .plan and .milestone updated after every step
- Write logs with timestamps and context
- During debugging, update plan and review previous steps
- don't write unit tests instead write little tools to manually run

### ğŸ› ï¸ Project Tools
- Language: Python
- Audio Processing: librosa, Silero VAD
- Transcription: Whisper
- LLM: Llama 7b (http://rat.local:8080/v1/)
- Audio Source: staple.local:12345 (44Hz raw audio)

### ğŸ¯ Project Milestones
1. [âœ¨] Project Setup & Audio Pipeline
   - Location: .milestone/01-setup.plan
   - Description: Initial setup, dual-stream audio pipeline, and debug tools
   
2. [ğŸƒ] Voice Activity Detection
   - Location: .milestone/02-vad.plan
   - Description: Silero VAD integration with downsampled audio
   - Status: Testing with live audio and tuning parameters

3. [ğŸ’¤] Transcription System
   - Location: .milestone/03-transcription.plan
   - Description: Whisper integration and file management

4. [ğŸ’¤] LLM Integration & Organization
   - Location: .milestone/04-llm.plan
   - Description: Summary and title generation

5. [ğŸ’¤] Deployment & Testing
   - Location: .milestone/05-deployment.plan
   - Description: Mac testing and Ubuntu deployment prep

### ğŸ¨ Project Status Indicators
- âœ¨ Completed
- ğŸƒ In Progress
- ğŸ› Debugging/Troubleshooting
- ğŸ’¤ Not Started
- ğŸ‰ Milestone Achieved

### ğŸ“ File Structure
/kitchen_mic
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ audio/          # Audio processing modules
â”‚   â”œâ”€â”€ transcription/  # Whisper integration
â”‚   â”œâ”€â”€ vad/           # Voice activity detection
â”‚   â”œâ”€â”€ llm/           # LLM integration
â”‚   â””â”€â”€ utils/         # Shared utilities
â”œâ”€â”€ debug/             # Debug tools and audio monitoring
â”œâ”€â”€ storage/          
â”‚   â”œâ”€â”€ raw/          # High fidelity audio storage
â”‚   â””â”€â”€ processed/    # Transcriptions and summaries
â””â”€â”€ config/           # Configuration files

### ğŸ”‘ Key Technical Requirements
- Maintain two audio streams:
  1. Original 44Hz high-fidelity audio for storage
  2. Downsampled 16kHz audio for Silero VAD
- Debug capabilities:
  - Real-time audio monitoring
  - Switch between original and downsampled audio
  - Visual audio stream indicators
- Data persistence:
  - Date-based folder structure
  - Original audio preservation
  - Transcriptions and summaries

### ğŸ“ Development Workflow
1. Implement and test each component in isolation
2. Use debug tools to verify audio processing
3. Integration testing with small conversation samples
4. Full system testing with extended recording periods

## WIP Notes
- we've set up venv 
- our shell does not have source so we need to use the full path to the venv bin